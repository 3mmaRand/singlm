<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 10 Introduction | singlm: A simple introduction to GLM for analysing Poisson and Binomial responses in R</title>
  <meta name="description" content="The output format for this example is bookdown::gitbook." />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 10 Introduction | singlm: A simple introduction to GLM for analysing Poisson and Binomial responses in R" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://3mmarand.github.io/singlm/" />
  <meta property="og:image" content="https://3mmarand.github.io/singlm/images/android-chrome-512x512.png" />
  <meta property="og:description" content="The output format for this example is bookdown::gitbook." />
  <meta name="github-repo" content="3mmaRand/singlm" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 10 Introduction | singlm: A simple introduction to GLM for analysing Poisson and Binomial responses in R" />
  
  <meta name="twitter:description" content="The output format for this example is bookdown::gitbook." />
  <meta name="twitter:image" content="https://3mmarand.github.io/singlm/images/android-chrome-512x512.png" />

<meta name="author" content="Emma Rand" />


<meta name="date" content="2020-08-20" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon" />
<link rel="prev" href="single-continuous-predictor.html"/>
<link rel="next" href="summary.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<script src="assets/book.js"></script>



<link rel="stylesheet" href="assets\style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="toc-logo"><a href="./"><img src="images/hex-s.png"></a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a><ul>
<li class="chapter" data-level="0.1" data-path="index.html"><a href="index.html#who-is-this-book-for"><i class="fa fa-check"></i><b>0.1</b> Who is this book for?</a></li>
<li class="chapter" data-level="0.2" data-path="index.html"><a href="index.html#formatting-options"><i class="fa fa-check"></i><b>0.2</b> Formatting options</a></li>
<li class="chapter" data-level="0.3" data-path="index.html"><a href="index.html#conventions-used-in-the-book"><i class="fa fa-check"></i><b>0.3</b> Conventions used in the book</a></li>
<li class="chapter" data-level="0.4" data-path="index.html"><a href="index.html#approach-of-this-book"><i class="fa fa-check"></i><b>0.4</b> Approach of this book</a></li>
<li class="chapter" data-level="0.5" data-path="index.html"><a href="index.html#outline"><i class="fa fa-check"></i><b>0.5</b> Outline</a></li>
<li class="chapter" data-level="0.6" data-path="index.html"><a href="index.html#following-along-with-the-examples"><i class="fa fa-check"></i><b>0.6</b> Following along with the examples</a></li>
<li class="chapter" data-level="0.7" data-path="index.html"><a href="index.html#overview-of-the-chapter-contents"><i class="fa fa-check"></i><b>0.7</b> Overview of the chapter contents</a></li>
<li class="chapter" data-level="0.8" data-path="index.html"><a href="index.html#software-information"><i class="fa fa-check"></i><b>0.8</b> Software information</a></li>
</ul></li>
<li class="part"><span><b>I INTRODUCTION</b></span></li>
<li class="chapter" data-level="1" data-path="revision-of-your-introductory-class.html"><a href="revision-of-your-introductory-class.html"><i class="fa fa-check"></i><b>1</b> Revision of your Introductory class</a></li>
<li class="chapter" data-level="2" data-path="what-are-linear-models.html"><a href="what-are-linear-models.html"><i class="fa fa-check"></i><b>2</b> What are linear models</a><ul>
<li class="chapter" data-level="2.1" data-path="what-are-linear-models.html"><a href="what-are-linear-models.html#what-is-a-linear-model"><i class="fa fa-check"></i><b>2.1</b> What is a linear model?</a></li>
<li class="chapter" data-level="2.2" data-path="what-are-linear-models.html"><a href="what-are-linear-models.html#linear-models-in-r"><i class="fa fa-check"></i><b>2.2</b> Linear models in R</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="single-linear-regression.html"><a href="single-linear-regression.html"><i class="fa fa-check"></i><b>3</b> Single linear regression</a><ul>
<li class="chapter" data-level="3.1" data-path="single-linear-regression.html"><a href="single-linear-regression.html#introduction-to-the-example"><i class="fa fa-check"></i><b>3.1</b> Introduction to the example</a></li>
<li class="chapter" data-level="3.2" data-path="single-linear-regression.html"><a href="single-linear-regression.html#applying-and-interpreting-lm"><i class="fa fa-check"></i><b>3.2</b> Applying and interpreting <code>lm()</code></a></li>
<li class="chapter" data-level="3.3" data-path="single-linear-regression.html"><a href="single-linear-regression.html#link-to-chapter-2.1"><i class="fa fa-check"></i><b>3.3</b> Link to Chapter 2.1</a></li>
<li class="chapter" data-level="3.4" data-path="single-linear-regression.html"><a href="single-linear-regression.html#getting-predictions-from-the-model"><i class="fa fa-check"></i><b>3.4</b> Getting predictions from the model</a></li>
<li class="chapter" data-level="3.5" data-path="single-linear-regression.html"><a href="single-linear-regression.html#checking-assumptions"><i class="fa fa-check"></i><b>3.5</b> Checking assumptions</a></li>
<li class="chapter" data-level="3.6" data-path="single-linear-regression.html"><a href="single-linear-regression.html#creating-a-figure"><i class="fa fa-check"></i><b>3.6</b> Creating a figure</a></li>
<li class="chapter" data-level="3.7" data-path="single-linear-regression.html"><a href="single-linear-regression.html#reporting-the-results"><i class="fa fa-check"></i><b>3.7</b> Reporting the results</a></li>
</ul></li>
<li class="part"><span><b>II USING <code>lm()</code> FOR FAMILIAR TESTS</b></span></li>
<li class="chapter" data-level="4" data-path="t-tests-revisit.html"><a href="t-tests-revisit.html"><i class="fa fa-check"></i><b>4</b> <em>t</em>-tests revisited</a><ul>
<li class="chapter" data-level="4.1" data-path="single-linear-regression.html"><a href="single-linear-regression.html#introduction-to-the-example"><i class="fa fa-check"></i><b>4.1</b> Introduction to the example</a></li>
<li class="chapter" data-level="4.2" data-path="t-tests-revisit.html"><a href="t-tests-revisit.html#t.test-output-reminder"><i class="fa fa-check"></i><b>4.2</b> <code>t.test()</code> output reminder</a></li>
<li class="chapter" data-level="4.3" data-path="t-tests-revisit.html"><a href="t-tests-revisit.html#t-tests-as-linear-models"><i class="fa fa-check"></i><b>4.3</b> <em>t</em>-tests as linear models</a></li>
<li class="chapter" data-level="4.4" data-path="single-linear-regression.html"><a href="single-linear-regression.html#applying-and-interpreting-lm"><i class="fa fa-check"></i><b>4.4</b> Applying and interpreting <code>lm()</code></a></li>
<li class="chapter" data-level="4.5" data-path="single-linear-regression.html"><a href="single-linear-regression.html#getting-predictions-from-the-model"><i class="fa fa-check"></i><b>4.5</b> Getting predictions from the model</a></li>
<li class="chapter" data-level="4.6" data-path="single-linear-regression.html"><a href="single-linear-regression.html#checking-assumptions"><i class="fa fa-check"></i><b>4.6</b> Checking assumptions</a></li>
<li class="chapter" data-level="4.7" data-path="single-linear-regression.html"><a href="single-linear-regression.html#creating-a-figure"><i class="fa fa-check"></i><b>4.7</b> Creating a figure</a></li>
<li class="chapter" data-level="4.8" data-path="single-linear-regression.html"><a href="single-linear-regression.html#reporting-the-results"><i class="fa fa-check"></i><b>4.8</b> Reporting the results</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="one-way-anova-revisit.html"><a href="one-way-anova-revisit.html"><i class="fa fa-check"></i><b>5</b> One-way ANOVA revisited</a><ul>
<li class="chapter" data-level="5.1" data-path="single-linear-regression.html"><a href="single-linear-regression.html#introduction-to-the-example"><i class="fa fa-check"></i><b>5.1</b> Introduction to the example</a></li>
<li class="chapter" data-level="5.2" data-path="one-way-anova-revisit.html"><a href="one-way-anova-revisit.html#aov-output-reminder"><i class="fa fa-check"></i><b>5.2</b> <code>aov()</code> output reminder</a></li>
<li class="chapter" data-level="5.3" data-path="one-way-anova-revisit.html"><a href="one-way-anova-revisit.html#post-hoc-testing-for-aov"><i class="fa fa-check"></i><b>5.3</b> Post-hoc testing for <code>aov()</code></a></li>
<li class="chapter" data-level="5.4" data-path="one-way-anova-revisit.html"><a href="one-way-anova-revisit.html#one-way-anova-as-linear-models"><i class="fa fa-check"></i><b>5.4</b> One-way ANOVA as linear models</a></li>
<li class="chapter" data-level="5.5" data-path="single-linear-regression.html"><a href="single-linear-regression.html#applying-and-interpreting-lm"><i class="fa fa-check"></i><b>5.5</b> Applying and interpreting <code>lm()</code></a></li>
<li class="chapter" data-level="5.6" data-path="single-linear-regression.html"><a href="single-linear-regression.html#getting-predictions-from-the-model"><i class="fa fa-check"></i><b>5.6</b> Getting predictions from the model</a></li>
<li class="chapter" data-level="5.7" data-path="single-linear-regression.html"><a href="single-linear-regression.html#checking-assumptions"><i class="fa fa-check"></i><b>5.7</b> Checking assumptions</a></li>
<li class="chapter" data-level="5.8" data-path="one-way-anova-revisit.html"><a href="one-way-anova-revisit.html#post-hoc-testing-for-lm"><i class="fa fa-check"></i><b>5.8</b> Post-hoc testing for <code>lm()</code></a></li>
<li class="chapter" data-level="5.9" data-path="single-linear-regression.html"><a href="single-linear-regression.html#creating-a-figure"><i class="fa fa-check"></i><b>5.9</b> Creating a figure</a></li>
<li class="chapter" data-level="5.10" data-path="single-linear-regression.html"><a href="single-linear-regression.html#reporting-the-results"><i class="fa fa-check"></i><b>5.10</b> Reporting the results</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="two-way-anova-revisit.html"><a href="two-way-anova-revisit.html"><i class="fa fa-check"></i><b>6</b> Two-way ANOVA revisited</a><ul>
<li class="chapter" data-level="6.1" data-path="single-linear-regression.html"><a href="single-linear-regression.html#introduction-to-the-example"><i class="fa fa-check"></i><b>6.1</b> Introduction to the example</a></li>
<li class="chapter" data-level="6.2" data-path="one-way-anova-revisit.html"><a href="one-way-anova-revisit.html#aov-output-reminder"><i class="fa fa-check"></i><b>6.2</b> <code>aov()</code> output reminder</a></li>
<li class="chapter" data-level="6.3" data-path="one-way-anova-revisit.html"><a href="one-way-anova-revisit.html#post-hoc-testing-for-aov"><i class="fa fa-check"></i><b>6.3</b> Post-hoc testing for <code>aov</code></a></li>
<li class="chapter" data-level="6.4" data-path="single-linear-regression.html"><a href="single-linear-regression.html#applying-and-interpreting-lm"><i class="fa fa-check"></i><b>6.4</b> Applying and interpreting <code>lm()</code></a></li>
<li class="chapter" data-level="6.5" data-path="single-linear-regression.html"><a href="single-linear-regression.html#getting-predictions-from-the-model"><i class="fa fa-check"></i><b>6.5</b> Getting predictions from the model</a></li>
<li class="chapter" data-level="6.6" data-path="single-linear-regression.html"><a href="single-linear-regression.html#link-to-chapter-2.1"><i class="fa fa-check"></i><b>6.6</b> Link to Chapter 2.1</a></li>
<li class="chapter" data-level="6.7" data-path="single-linear-regression.html"><a href="single-linear-regression.html#checking-assumptions"><i class="fa fa-check"></i><b>6.7</b> Checking assumptions</a></li>
<li class="chapter" data-level="6.8" data-path="one-way-anova-revisit.html"><a href="one-way-anova-revisit.html#post-hoc-testing-for-lm"><i class="fa fa-check"></i><b>6.8</b> Post-hoc testing for <code>lm()</code></a></li>
<li class="chapter" data-level="6.9" data-path="single-linear-regression.html"><a href="single-linear-regression.html#creating-a-figure"><i class="fa fa-check"></i><b>6.9</b> Creating a figure</a></li>
<li class="chapter" data-level="6.10" data-path="single-linear-regression.html"><a href="single-linear-regression.html#reporting-the-results"><i class="fa fa-check"></i><b>6.10</b> Reporting the results</a></li>
</ul></li>
<li class="part"><span><b>III GENERALISED LINEAR MODELS</b></span></li>
<li class="chapter" data-level="7" data-path="overview.html"><a href="overview.html"><i class="fa fa-check"></i><b>7</b> Overview</a><ul>
<li class="chapter" data-level="7.1" data-path="overview.html"><a href="overview.html#generalised-linear-models-in-r"><i class="fa fa-check"></i><b>7.1</b> Generalised linear models in R</a></li>
</ul></li>
<li class="part"><span><b>IV POISSON GLMs</b></span></li>
<li class="chapter" data-level="8" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>8</b> Introduction</a></li>
<li class="chapter" data-level="9" data-path="single-continuous-predictor.html"><a href="single-continuous-predictor.html"><i class="fa fa-check"></i><b>9</b> Single continuous predictor</a><ul>
<li class="chapter" data-level="9.1" data-path="single-linear-regression.html"><a href="single-linear-regression.html#introduction-to-the-example"><i class="fa fa-check"></i><b>9.1</b> Introduction to the example</a></li>
<li class="chapter" data-level="9.2" data-path="single-continuous-predictor.html"><a href="single-continuous-predictor.html#applying-and-interpreting-glm"><i class="fa fa-check"></i><b>9.2</b> Applying and interpreting <code>glm()</code></a></li>
<li class="chapter" data-level="9.3" data-path="single-linear-regression.html"><a href="single-linear-regression.html#getting-predictions-from-the-model"><i class="fa fa-check"></i><b>9.3</b> Getting predictions from the model</a></li>
</ul></li>
<li class="part"><span><b>V BINOMIAL GLMs</b></span></li>
<li class="chapter" data-level="10" data-path="introduction.html"><a href="introduction.html#introduction"><i class="fa fa-check"></i><b>10</b> Introduction</a></li>
<li class="chapter" data-level="11" data-path="summary.html"><a href="summary.html"><i class="fa fa-check"></i><b>11</b> Summary</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">singlm: A simple introduction to GLM for analysing Poisson and Binomial responses in R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="introduction" class="section level1">
<h1><span class="header-section-number">Chapter 10</span> Introduction</h1>
<p>For the binomial and quasibinomial families the response can be specified in one of three ways:</p>
<p>As a factor: ‘success’ is interpreted as the factor not having the first level (and hence usually of having the second level).</p>
<p>As a numerical vector with values between 0 and 1, interpreted as the proportion of successful cases (with the total number of cases given by the weights).</p>
<p>As a two-column integer matrix: the first column gives the number of successes and the second the number of failures.</p>
<p>The quasibinomial and quasipoisson families differ from the binomial and poisson families only in that the dispersion parameter is not fixed at one, so they can model over-dispersion. For the binomial case see McCullagh and Nelder (1989, pp. 124–8). Although they show that there is (under some restrictions) a model with variance proportional to mean as in the quasi-binomial model, note that glm does not compute maximum-likelihood estimates in that model.
When a response variable is the count of things it can often not be approximated by a normal distribution. Instead it follows a Poisson distribution. Such variables are always positive - they range from 0 to <span class="math inline">\(\infty\)</span>. A Poisson GLM is also known as Poisson regression. The link function used in a Poisson GLM is the natural logarithm, <span class="math inline">\(ln\)</span>.</p>
<p>When you have a single explanatory variable, that model is:</p>
<p><span class="math display" id="eq:glmpois">\[\begin{equation}
ln(E(y_{i}))=\beta_{0}+\beta_{1}X1_{i}
\tag{10.1}
\end{equation}\]</span></p>
<p>This means that the model estimates are logged to the base <span class="math inline">\(e\)</span> and and the inverse function, <code>exp()</code> must be applied to them to interpret them in terms of the response. In other words, to make predictions about the expected value of the response we need to exponentiate the coefficients.</p>
<p><span class="math display" id="eq:glmpois2">\[\begin{equation}
E(y_{i})=exp(\beta_{0}+\beta_{1})X1_{i}
\tag{10.2}
\end{equation}\]</span></p>
<p>or</p>
<p><span class="math display" id="eq:glmpois3">\[\begin{equation}
E(y_{i})=exp(\beta_{0}) \times exp(\beta_{1})X1_{i}
\tag{10.3}
\end{equation}\]</span></p>
<p>Just like examples of general linear models with a single explanatory variable, there are two parameters in this model, <span class="math inline">\(\beta_{0}\)</span> and <span class="math inline">\(\beta_{0}\)</span> and their meaning is similar. <span class="math inline">\(\beta_{0}\)</span> is the log of the expected <span class="math inline">\(y\)</span> when <span class="math inline">\(x\)</span> is zero - the intercept. The log of <span class="math inline">\(\beta_{1}\)</span> is not the amount you <em>add</em> to <span class="math inline">\(y\)</span> for each unit change in <span class="math inline">\(x\)</span> but the amount by which multiply. This means the model is a curve. If <span class="math inline">\(\beta_{1}\)</span> is positive, <span class="math inline">\(exp(\beta_{1})\)</span> is greater than one and <span class="math inline">\(y\)</span> increases as <span class="math inline">\(x\)</span> increases; If <span class="math inline">\(\beta_{1}\)</span> is negative, <span class="math inline">\(exp(\beta_{1})\)</span> is less than one and <span class="math inline">\(y\)</span> decreases as <span class="math inline">\(x\)</span> increases. See Figure <a href="introduction.html#fig:glm-pois-poss">10.1</a> for an illustration of the curve for positive and negative <span class="math inline">\(\beta_{1}\)</span>.</p>

<div class="figure" style="text-align: left"><span id="fig:glm-pois-poss"></span>
<img src="glm-binomial_files/figure-html/glm-pois-poss-1.png" alt="Data fitted with a Poisson GLM." width="80%" />
<p class="caption">
Figure 10.1: Data fitted with a Poisson GLM.
</p>
</div>
<p>See Figure <a href="introduction.html#fig:glm-pois-annotated">10.2</a> for a graphical representation of generalised linear model terms.</p>

<div class="figure" style="text-align: left"><span id="fig:glm-pois-annotated"></span>
<img src="images/generic_pois.svg" alt="A Generalised linear model with Poisson distributed errors. The measured response values are in pink, the predictions are in green, and the differences between these, known as the residuals, are in blue. The estimated model parameters, \(\beta_{0}\) and \(\beta_{1}\) must be exponentiated to be interpreted on the scale of the response. When \(x=0\) we predict the number of \(y\) to be \(exp(\beta_{0})\). For each unit of \(x\), the number of y changes by a factor of \(exp(\beta_{1})\)" width="80%" />
<p class="caption">
Figure 10.2: A Generalised linear model with Poisson distributed errors. The measured <span style=" font-weight: bold;    color: #d264c0 !important;">response values are in pink</span>, the <span style=" font-weight: bold;    color: #c0d264 !important;">predictions are in green</span>, and the differences between these, known as the <span style=" font-weight: bold;    color: #64c0d2 !important;">residuals, are in blue</span>. The estimated model parameters, <span class="math inline">\(\beta_{0}\)</span> and <span class="math inline">\(\beta_{1}\)</span> must be exponentiated to be interpreted on the scale of the response. When <span class="math inline">\(x=0\)</span> we predict the number of <span class="math inline">\(y\)</span> to be <span class="math inline">\(exp(\beta_{0})\)</span>. For each unit of <span class="math inline">\(x\)</span>, the number of y changes by a factor of <span class="math inline">\(exp(\beta_{1})\)</span>
</p>
</div>

</div>
            </section>

          </div>
        </div>
      </div>
<a href="single-continuous-predictor.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="summary.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": false
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/3mmaRand/singlm/edit/master/glm-binomial.Rmd",
"text": "Make an edit suggestion"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["singlm.pdf", "singlm.epub", "https://github.com/3mmaRand/singlm/raw/master/glm-binomial.Rmd"],
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
